<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[风依旧]]></title>
  <link href="http://windstill.me/atom.xml" rel="self"/>
  <link href="http://windstill.me/"/>
  <updated>2014-07-01T14:51:18+08:00</updated>
  <id>http://windstill.me/</id>
  <author>
    <name><![CDATA[WindStill]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Mac Mavericks系统因为‘来自身份不明开发者’不能打开软件的解决方法]]></title>
    <link href="http://windstill.me/blog/2014/01/03/mavericks-unidentified-developer-app/"/>
    <updated>2014-01-03T17:29:52+08:00</updated>
    <id>http://windstill.me/blog/2014/01/03/mavericks-unidentified-developer-app</id>
    <content type="html"><![CDATA[<p>自从 <code>10.7 Lion</code> 升级到新系统<code>10.9 Mavericks</code> 后，一些小问题也就跟着来了。听说苹果是从 <code>10.8 Mountain Lion</code> （这个版本系统我没装过）系统开始启用了新的安全机制，默认只信任 App Store 下载的软件和拥有开发者 ID 签名的应用程序。也就是说新系统默认只能安装正规渠道（App Store 或被认可的开发人员）的软件，否则安装的时候就会弹出下图所示警告框：<code>打不开“xxx”，因为它来自身份不明的开发者</code>，如下图所示：</p>

<!-- more -->


<p><img class="center" src="http://blog-picture.qiniudn.com/94C990E2-7FC8-4117-B9EC-F17C338A2F96.png"></p>

<p>这个问题解决方法就是到 <code>系统偏好设置</code> 里设置一下就行了，步骤如下：</p>

<ul>
<li>点击 Mac 屏幕左上角的苹果标志，在下拉菜单里选择 <code>系统偏好设置…</code>，或者到 <code>应用程序</code> 里找到 <code>系统偏好设置</code> 应用。在弹出的设置面板里，点击第一行的小房子图标 <code>安全性与隐私</code> 。</li>
</ul>


<p><img class="center" src="http://blog-picture.qiniudn.com/02FAD525-62C0-450B-8C99-CBC9DD6ED1F5.png"></p>

<ul>
<li>在 <code>安全性与隐私</code> 设置面板里选择 <code>通用</code> 标签。可以看到上面截图里中间红框标出的几个选项了，把“允许从一下位置下载的应用程序”从默认的 <code>Mac App Store 和被认可的开发者</code> 改选为 <code>任何来源</code> 就行了。但按钮是灰的不能选，需要点击左下角红框内的锁按钮解锁。</li>
</ul>


<p><img class="center" src="http://blog-picture.qiniudn.com/4302E326-1889-4017-93F2-4C5ED6932168.png"></p>

<ul>
<li>系统会要求你输一下密码确认，解锁后就可以选择 <code>任何来源</code> 了，然后会如下图所示：</li>
</ul>


<p><img class="center" src="http://blog-picture.qiniudn.com/4E81CF94-FAC6-43C5-9707-9CD3F9EA17EA.png"></p>

<ul>
<li>点击 <code>允许来自任何来源</code> 按钮就 OK 了，这样被警告的应用程序就能正常安装、打开了。</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Linux设置系统时间和硬件时间]]></title>
    <link href="http://windstill.me/blog/2014/01/02/linux-set-time/"/>
    <updated>2014-01-02T11:46:08+08:00</updated>
    <id>http://windstill.me/blog/2014/01/02/linux-set-time</id>
    <content type="html"><![CDATA[<p>今天发现我们测试环境的服务器时间不对，居然超前了。然后谷歌了下linux系统相的关时间查看与设置。Linux时钟分为 <code>系统时钟</code>（System Clock）和 <code>硬件时钟</code>（Real Time Clock，简称RTC）。<code>系统时钟是</code>指当前Linux Kernel中的时钟，而<code>硬件时钟</code>则是主板上由电池供电的时钟，这个硬件时钟可以在BIOS中进行设置。当Linux启动时，硬件时钟会去读取系统时钟的设置，然后系统时钟就会独立于硬件运作。</p>

<!-- more -->


<p>Linux中的所有命令都是采用的系统时钟设置。在Linux中，用于时钟查看和设置的命令主要有<code>date</code>、<code>hwclock</code>和<code>clock</code>。其中，<code>clock</code>和<code>hwclock</code>用法相近，只用一个就行，只不过clock命令除了支持x86硬件体系外，还支持Alpha硬件体系。看了下我们的测试环境止只有hwclock可用，clock没有安装。</p>

<h3>1. date</h3>

<ul>
<li>查看系统时间</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># date</span></code></pre></td></tr></table></div></figure>


<ul>
<li>设置系统时间</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># date --set "01/02/14 10:19:20" (月/日/年 时:分:秒)</span></code></pre></td></tr></table></div></figure>


<h3>2. hwclock/clock</h3>

<ul>
<li>查看硬件时间</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># hwclock --show
</span><span class='line'>或者
</span><span class='line'># clock --show</span></code></pre></td></tr></table></div></figure>


<ul>
<li>设置硬件时间</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># hwclock --set --date="01/02/14 10:19:20"  (月/日/年 时:分:秒)
</span><span class='line'>或者
</span><span class='line'># clock --set --date="01/02/14 10:19:20"  (月/日/年 时:分:秒)</span></code></pre></td></tr></table></div></figure>


<h3>3. 硬件时间和系统时间的同步</h3>

<p>硬件时钟同步到系统时钟：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># hwclock --hctosys（hc代表硬件时间，sys代表系统时间）
</span><span class='line'>或者
</span><span class='line'># clock --hctosys</span></code></pre></td></tr></table></div></figure>


<p>系统时钟同步到硬件时钟：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># hwclock --systohc
</span><span class='line'>或者
</span><span class='line'># clock --systohc</span></code></pre></td></tr></table></div></figure>


<h3>4. 时区的设置</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>root@testserver-01:~# tzselect
</span><span class='line'>Please identify a location so that time zone rules can be set correctly.
</span><span class='line'>Please select a continent or ocean.
</span><span class='line'> 1) Africa
</span><span class='line'> 2) Americas
</span><span class='line'> 3) Antarctica
</span><span class='line'> 4) Arctic Ocean
</span><span class='line'> 5) Asia
</span><span class='line'> 6) Atlantic Ocean
</span><span class='line'> 7) Australia
</span><span class='line'> 8) Europe
</span><span class='line'> 9) Indian Ocean
</span><span class='line'>10) Pacific Ocean
</span><span class='line'>11) none - I want to specify the time zone using the Posix TZ format.
</span><span class='line'>#? 5 (输入5，亚洲)
</span><span class='line'>
</span><span class='line'>Please select a country.
</span><span class='line'> 1) Afghanistan         18) Israel            35) Palestine
</span><span class='line'> 2) Armenia         19) Japan         36) Philippines
</span><span class='line'> 3) Azerbaijan          20) Jordan            37) Qatar
</span><span class='line'> 4) Bahrain         21) Kazakhstan        38) Russia
</span><span class='line'> 5) Bangladesh          22) Korea (North)     39) Saudi Arabia
</span><span class='line'> 6) Bhutan          23) Korea (South)     40) Singapore
</span><span class='line'> 7) Brunei          24) Kuwait            41) Sri Lanka
</span><span class='line'> 8) Cambodia        25) Kyrgyzstan        42) Syria
</span><span class='line'> 9) China       26) Laos          43) Taiwan
</span><span class='line'>10) Cyprus          27) Lebanon           44) Tajikistan
</span><span class='line'>11) East Timor          28) Macau         45) Thailand
</span><span class='line'>12) Georgia         29) Malaysia          46) Turkmenistan
</span><span class='line'>13) Hong Kong       30) Mongolia          47) United Arab Emirates
</span><span class='line'>14) India       31) Myanmar (Burma)       48) Uzbekistan
</span><span class='line'>15) Indonesia       32) Nepal         49) Vietnam
</span><span class='line'>16) Iran        33) Oman          50) Yemen
</span><span class='line'>17) Iraq        34) Pakistan
</span><span class='line'>#? 9 (输入9，中国)
</span><span class='line'>
</span><span class='line'>Please select one of the following time zone regions.
</span><span class='line'>1) east China - Beijing, Guangdong, Shanghai, etc.
</span><span class='line'>2) Heilongjiang (except Mohe), Jilin
</span><span class='line'>3) central China - Sichuan, Yunnan, Guangxi, Shaanxi, Guizhou, etc.
</span><span class='line'>4) most of Tibet & Xinjiang
</span><span class='line'>5) west Tibet & Xinjiang
</span><span class='line'>#? 1 (输入1，北京时间)
</span><span class='line'>
</span><span class='line'>The following information has been given:
</span><span class='line'>
</span><span class='line'>  China
</span><span class='line'>  east China - Beijing, Guangdong, Shanghai, etc.
</span><span class='line'>
</span><span class='line'>Therefore TZ='Asia/Shanghai' will be used.
</span><span class='line'>Local time is now:    Thu Jan  2 11:55:36 CST 2014.
</span><span class='line'>Universal Time is now:    Thu Jan  2 03:55:36 UTC 2014.
</span><span class='line'>Is the above information OK?
</span><span class='line'>1) Yes
</span><span class='line'>2) No
</span><span class='line'>#? Yes
</span><span class='line'>Please enter 1 for Yes, or 2 for No.
</span><span class='line'>#? 1 (输入1，确认)</span></code></pre></td></tr></table></div></figure>


<h3>参考文章</h3>

<p><a href="http://os.51cto.com/art/200703/43943.htm">Linux操作系统下的时间设置方法介绍</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mac OSX 10.9 Mavericks系统安装MacVim]]></title>
    <link href="http://windstill.me/blog/2013/12/29/macvim-osx-mavericks/"/>
    <updated>2013-12-29T18:26:08+08:00</updated>
    <id>http://windstill.me/blog/2013/12/29/macvim-osx-mavericks</id>
    <content type="html"><![CDATA[<p>今天下午把Mac系统从Lion直接升级到了Mavericks，增加了不少新的功能和体验，具体参考官方说明 <a href="https://help.apple.com/osx-mavericks/whats-new-from-lion">OS X Mavericks的全新功能</a>。这次升级基本保持了原有的数据和配置，但是个别应用会因为系统升级瘦到影响，比如这次所说的<code>MacVim</code>应用。</p>

<!-- more -->


<h3>问题及解决</h3>

<p>升级完系统后，终端输入<code>mvim .</code>会出现以下错误信息：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>dyld: Library not loaded: /System/Library/Perl/lib/5.10/libperl.dylib
</span><span class='line'>Referenced from: /Applications/MacVim.app/Contents/MacOS/Vim
</span><span class='line'>Reason: image not found
</span><span class='line'>Trace/BPT trap: 5</span></code></pre></td></tr></table></div></figure>


<p>原因是Mac X Mavericks 只有5.12 、5.16 已经没有了5.10。解决办法就是下载最新的Mavericks版本的MacVim <a href="https://github.com/b4winckler/macvim/releases/download/snapshot-72/MacVim-snapshot-72-Mavericks.tbz">MacVim-snapshot-72-Mavericks.tbz</a>。</p>

<p>其他OSX系统版本可以到 <a href="https://github.com/b4winckler/macvim/releases">https://github.com/b4winckler/macvim/releases</a> 下载。</p>

<p>下载解压后有三个文件<code>MacVim</code>、<code>mvim</code>、<code>reader.txt</code>，把<code>MacVim</code>放到你的应用程序也就是<code>/Applications</code>目录下，把<code>mvim</code>拷贝到<code>/usr/bin/</code>目录下。这样<code>MacVim</code>就可以正常使用了：终端下使用<code>mvim</code>或直接打开MacVim应用。</p>

<h3>安装插件(plugin)</h3>

<p>vim 有好多方便、实用的插件，作为一个普通开发人员，经常使用的就有一二十个，若一个一个去安装确实有点麻烦。</p>

<p><a href="https://github.com/carlhuda/janus"><code>Janus</code></a>可以为我们解决这个烦恼，它是一个为<code>Vim</code>、<code>Gvim</code>、<code>MacVim</code>准备的插件和映射的集合。Janus用一些最流行的插件和最常用的映射组合成一个最小型的开发环境。参见 <a href="https://github.com/carlhuda/janus">Janus的Github页面</a>。</p>

<p>1、安装</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ curl -Lo- https://bit.ly/janus-bootstrap | bash</span></code></pre></td></tr></table></div></figure>


<p>2、自定义</p>

<p>可以在<code>~/.vimrc.before</code>中做一些 <em>leader</em> 设置，其他设置可以放在 <code>~/.vimrc.after</code>里。</p>

<p>如果想安装其他的插件，就要创建一个<code>~/.janus</code>目录存放插件。也可以使用<code>git clone</code>，例如：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ cd ~/.janus
</span><span class='line'>$ git clone https://github.com/nathanaelkane/vim-indent-guides.git</span></code></pre></td></tr></table></div></figure>


<p>这是一个缩进对齐插件（效果参见配图中明暗相间的竖条），需要在下面所说的<code>~/.vimrc.before</code>文件中添加：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>autocm vimenter * :IndentGuidesEnable
</span><span class='line'>let g:indent_guides_guide_size = 1</span></code></pre></td></tr></table></div></figure>


<h3>安装主题(theme)</h3>

<p>我是做<code>Rails</code>开发的，之前一直用的<code>Textmate</code>编辑器，比较喜欢之前的配色方案。有两款合适的配色方案：<a href="https://github.com/ryanb/dotfiles/blob/master/vim/colors/railscasts.vim">Railscasts.vim</a> 和 <a href="https://github.com/gigamo/sunburst.vim/blob/master/.vim/colors/sunburst.vim">Sunburst.vim</a> 。</p>

<p>在<code>~/.vim</code>目录下新建<code>colors/</code>目录，将<code>Railscast.vim</code>或<code>Sunburst.vim</code>放到此目录中，然后在<code>~/.vimrc.before</code>文件中添加启用此主题的设置项：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>colorscheme Sunburst </span></code></pre></td></tr></table></div></figure>


<p>其他配色方案请参考 <a href="http://www.oschina.net/news/32306/10-vim-color-schemes-you-need-to-own">10 个你值得拥有的 Vim 配色方案</a> ，设置与上面一样。</p>

<h3>其他设置</h3>

<p>一般情况下Janus安装插件的时候已经做了许多默认的设置，下面是根据我自己的需求做的设置<code>~/.vimrc.before</code>：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>" 设置主题（配色方案）
</span><span class='line'>colorscheme Sunburst
</span><span class='line'>" 设置字体字号
</span><span class='line'>set guifont=Menlo:h16
</span><span class='line'>" 启用缩进高亮对齐（下图中明暗相间的竖条） 
</span><span class='line'>autocm vimenter * :IndentGuidesEnable
</span><span class='line'>" 设置缩进距离单位
</span><span class='line'>let g:indent_guides_guide_size = 1
</span><span class='line'>" 设置mapleader键位
</span><span class='line'>let mapleader = ","
</span><span class='line'>" 设置文件打开时代码段默认为折叠状态
</span><span class='line'>set foldmethod=indent</span></code></pre></td></tr></table></div></figure>


<h3>示例配图</h3>

<p><img src="http://windstill.me/images/post_img/A84412D6-BA8F-49F3-B48A-1A4AB8F67E48.png" title="示例配图" alt="example" /></p>

<h3>参考文章</h3>

<ul>
<li><a href="http://kodira.de/2013/10/macvim-osx-10-9-mavericks/">MacVim for OSX 10.9 Mavericks</a></li>
<li><a href="http://blog.csdn.net/wildcatlele/article/details/16330009">mac osx 10.9安装配置macvim</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[用Octopress和Github-pages搭建博客]]></title>
    <link href="http://windstill.me/blog/2013/12/26/octopress-with-github-pages/"/>
    <updated>2013-12-26T21:07:44+08:00</updated>
    <id>http://windstill.me/blog/2013/12/26/octopress-with-github-pages</id>
    <content type="html"><![CDATA[<h3>1 相关介绍</h3>

<h4>Octopress</h4>

<p><a href="http://octopress.org/"><code>Octopress</code></a>是利用<a href="http://github.com/mojombo/jekyll"><code>Jekyll</code></a>博客引擎开发的一个博客系统，生成的静态页面能够很好的在github page上展现。如果用<a href="http://github.com/mojombo/jekyll"><code>Jekyll</code></a>写博客的话，得要自己写HTML模板、CSS、Javascript，并且要自己做配置。但是如果用<a href="http://octopress.org/"><code>Octopress</code></a>，这些都帮你做好了，只要<a href="https://github.com/imathis/octopress"><code>clone or fork Octopress</code></a>，安装些依赖的库和主题就行了。</p>

<!-- more -->


<h4>Github pages</h4>

<p><a href="https://github.com/"><code>GitHub</code></a>是全球最大的社交编程及代码托管网站，GitHub可以托管、分享各种代码库或项目，并提供一个web界面。</p>

<p><a href="http://pages.github.com/"><code>Github Pages</code></a>就是为你或你的项目提供一个静态的网站。原理就是把你的一个特殊的repository (yourname.github.io)，或者某个repository特殊分支(gh-pages)的静态文件以网页形式展现出来，前者一般作为个人主页，后面一般作为项目的主页，这两种情况后面会说到。</p>

<p>这种方案优势：1.搭建、发布简单；2.免费、无限流量，3.绑定自己域名</p>

<h3>2 安装Octopress</h3>

<h4>安装前准备</h4>

<ul>
<li><a href="http://git-scm.com/">安装 Git</a></li>
<li>安装 Ruby 1.9.3</li>
</ul>


<p>可以通过安装RVM，来安装、管理ruby版本</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>curl -L https://get.rvm.io | bash -s stable --ruby</span></code></pre></td></tr></table></div></figure>


<p>接着是安装Ruby 1.9.3</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rvm install 1.9.3
</span><span class='line'>rvm use 1.9.3</span></code></pre></td></tr></table></div></figure>


<h4>安装Octopress</h4>

<p>克隆Octopress的代码库</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git clone git://github.com/imathis/octopress.git octopress
</span><span class='line'>cd octopress</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>安装依赖库</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem install bundler
</span><span class='line'>rbenv rehash    # If you use rbenv, rehash to be able to run the bundle command
</span><span class='line'>bundle install</span></code></pre></td></tr></table></div></figure>


<p>安装Octopress默认主题</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake install</span></code></pre></td></tr></table></div></figure>


<h3>3 配置Octopress</h3>

<p>Octopress的作者已经让配置尽量简化了，一般情况只需要配置<code>_config.yml</code>和<code>Rakefile</code>文件即可。下面是Octopress的配置文件列表。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>_config.yml       # 主要配置文件 (Jekyll的设置)
</span><span class='line'>Rakefile          # 部署相关配置
</span><span class='line'>config.rb         # Compass config
</span><span class='line'>config.ru         # Rack config</span></code></pre></td></tr></table></div></figure>


<p><code>_config.yml</code>文件中主要有三大配置段：<code>Main Configs</code>、<code>Jekyll &amp; Plugins</code>和<code>3rd Party Settings</code>。一般，该文件中其中url是必须要填写的，这里的url是在github上创建的一个仓库地址，具体请看第四步中创建的地址。另外再修改一下title、subtitle和author，根据需求，再开启一些第三方组件服务。</p>

<p>参见 <a href="http://octopress.org/docs/configuring/">Configuring Octopress</a></p>

<h3>4 部署到Github Pages</h3>

<h4>Github User/Organization pages</h4>

<p>如果想放到<code>http://username.github.io</code>域名下，就用这种方式。以前是<code>.com</code>域名，现在改成<code>.io</code>了。不过可以配置自己的域名，这个后面会说到。</p>

<p>首先需要在GitHub上创建一个<a href="https://github.com/repositories/new">新的仓库</a>，命名为<code>username.github.io</code>，<code>username</code>就是你在Github的用户名。等后面配置好部署到Github上以后，就可以通过<code>http://username.github.io</code>访问了。这种方式需要一个master分支来存放生成的博客内容（_deploy目录），source分支存放整个源码。用octopress的一个<code>rake任务</code>可以自动完成以上配置。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake setup_github_pages</span></code></pre></td></tr></table></div></figure>


<p>这条rake任务会让你输入仓库的地址，SSH和HTTPS的URL都可以。执行后，会做以下事情：<br/>
1. 存储Github Pages的仓库地址<br/>
2. 将octopress的远程仓库<code>origin</code>重命名为<code>octopress</code><br/>
3. 将Github Pages仓库作为默认的远程origin<br/>
4. 将当前分支从<code>master</code>切换到<code>source</code><br/>
5. 根据仓库地址配置博客的URL<br/>
6. 在部署目录<code>_deploy</code>中创建<code>master</code>分支</p>

<p>然后执行：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake generate
</span><span class='line'>rake deploy</span></code></pre></td></tr></table></div></figure>


<p>这两条命令会生成博客系统的主要文件并拷贝到<code>_deploy/</code>目录，然后添加到git版本控制，提交并推送到远程主分支。过一会就可以访问<code>http://username.github.com</code>了。</p>

<p>然后把源码提交到<code>source</code>分支</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git add .
</span><span class='line'>git commit -m 'your message'
</span><span class='line'>git push origin source</span></code></pre></td></tr></table></div></figure>


<h4>Github Project pages (gh-pages分支)</h4>

<p>Github的Project Pages服务可以为项目提供网站页面。它会在项目仓库中寻找<code>gh-pages</code>分支，然后通过<code>http://username.github.io/project</code>访问项目网站。</p>

<p>执行Octopress的rake任务命令</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake setup_github_pages</span></code></pre></td></tr></table></div></figure>


<p>然后执行</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake generate
</span><span class='line'>rake deploy</span></code></pre></td></tr></table></div></figure>


<p>这几条命令的执行结果基本与上面的类似。</p>

<p>参见 <a href="http://octopress.org/docs/deploying/github/">Deploying to Github Pages</a></p>

<h4>自定义域名</h4>

<p>首先在<code>source/</code>目录下新建一个名为<code>CNAME</code>的文件，并填入你的域名，比如<code>example.com</code>或<code>blog.example.com</code>。</p>

<p>然后到你的域名登记或DNS管理网站添加一条域名记录</p>

<ul>
<li>如果是顶级域名，比如<code>example.com</code>，那么需要创建一条A记录，并指向<code>204.232.175.78</code>。</li>
<li>如果是二级域名，比如<code>blog.example.com</code>，那么创建一条CNAME记录，并指向<code>username.github.io</code>。</li>
</ul>


<p>然后执行</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake generate
</span><span class='line'>rake deploy</span></code></pre></td></tr></table></div></figure>


<p>大概过个10分钟，就可以用新的域名访问了。</p>

<h3>5 开始写博客</h3>

<p>Octopress提供了一些rake任务来创建博文和页面。博文必须存储在source/_posts目录下，其中预置了一些元数据，并且以Jekyll的命名规范命名：YYYY-MM-DD-post-title.markdown。博文的名字会被当做url的一部分，而其中的日期用于对博文的区分和排序。</p>

<h4>创建博文</h4>

<p>通过Octopress提供的rake任务可以正确的按照命名规范创建博文，并且在博文中会预知一些常用的yaml元数据。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake new_post["title"]</span></code></pre></td></tr></table></div></figure>


<p>其中title为博文的文件名，创建出来的文件默认是markdown格式。上面的命令会创建出这样一个文件：source/_posts/2013-08-03-title.markdown。用文本编辑器打开这个文件，可以看到里面有一块yaml元数据(Jekyll博客引擎会根据这些内容处理博文和页面)：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>---
</span><span class='line'>layout: post
</span><span class='line'>title: "Zombie Ninjas Attack: A survivor's retrospective"
</span><span class='line'>date: 2011-07-03 5:59
</span><span class='line'>comments: true
</span><span class='line'>external-url:
</span><span class='line'>categories:
</span><span class='line'>---</span></code></pre></td></tr></table></div></figure>


<h4>设置博文</h4>

<p>在以上的yaml元数据块里可以：</p>

<ul>
<li>关闭评论</li>
<li>给博文添加分类</li>
<li>如果是多人博客，可以添加<code>author: Your Name</code>到元数据</li>
<li>如果只是想作为草稿，不想在发布后公开，那么可以添加<code>published: false</code></li>
<li>如果是想发布个外链博文，只要为博文添加个<code>external-url</code></li>
</ul>


<p>你还可以想下面这样添加一个或多个分类：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># 一个分类
</span><span class='line'>categories: Sass
</span><span class='line'> 
</span><span class='line'># 多个分类，示例1
</span><span class='line'>categories: [CSS3, Sass, Media Queries]
</span><span class='line'> 
</span><span class='line'># 多个分类，示例2
</span><span class='line'>categories:
</span><span class='line'>- CSS3
</span><span class='line'>- Sass
</span><span class='line'>- Media Queries</span></code></pre></td></tr></table></div></figure>


<h4>撰写博文</h4>

<p>在元数据块下面就可以撰写博文正文了。</p>

<p>如果想在首页中只显示博文的部分正文，可以在博文中写入<code>&lt;!--more--&gt;</code>，这样首页的博文就只显示<code>&lt;!--more--&gt;</code>标识之前的内容，并在每篇博文底下加一个<code>Read on</code>超链接。</p>

<h4>生成并预览</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake generate   # 生成post和page到public目录
</span><span class='line'>rake preview    # 启动服务并预览 http://localhost:4000</span></code></pre></td></tr></table></div></figure>


<p>预览无勿的话，就可以部署了</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake deploy</span></code></pre></td></tr></table></div></figure>


<p>参见 <a href="http://octopress.org/docs/blogging">Start blogging with Octopress</a></p>

<h3>参考文章</h3>

<ul>
<li><a href="http://blog.devtang.com/blog/2012/02/10/setup-blog-based-on-github/">利用Octopress搭建一个Github博客</a></li>
<li><a href="http://blog.devtang.com/blog/2012/02/10/setup-blog-based-on-github/">象写程序一样写博客：搭建基于github的博客</a></li>
</ul>

]]></content>
  </entry>
  
</feed>
